var ForrstNavigator=function(){var c={c:99,g:103,j:106,k:107,l:108,r:114,v:118},a;a||(a={});a.Activity={toggleLike:function(){var b=a.Window.closestElements(".activity").current;$(b).hasClass("activity")},view:function(){var b=a.Window.closestElements(".activity").current;if($(b).hasClass("activity")){b=$(b).find(".view");if(b.length>0)document.location=b[0].href}}};a.Navigator={newPost:function(){document.location="http://forrst.com/posts/new"},goToPrevious:function(){var b=a.Window.closestElements(".activity").previous;
a.Window.moveTo(b,true)},goToNext:function(){var b=a.Window.closestElements(".activity").next;a.Window.moveTo(b,false)}};a.Post={reply:function(){document.location.href.match(/^https?:\/\/(www\.)?forrst\.com\/posts/)&&$("#comment_content").focus()}};a.Window={threshold:1,closestElements:function(b){var d=$(window).scrollTop(),f=null,h=null,i=null;$(b).each(function(j,e){var g=$(e).offset().top;if(g+a.Window.threshold<d)i=e;else if(!f&&g-a.Window.threshold>d)f=e;else if(Math.abs(d-g)<=a.Window.threshold*
2)h=e});return{current:h,next:f,previous:i}},moveTo:function(b,d){if(b)window.scrollTo(0,$(b).offset().top);else d&&window.scrollTo(0,0)}};document.addEventListener("keypress",function(b){if(!b)b=window.event;switch(b.keyCode?b.keyCode:b.which){case c.c:a.Navigator.newPost();break;case c.j:a.Navigator.goToNext();break;case c.k:a.Navigator.goToPrevious();break;case c.l:a.Activity.toggleLike();break;case c.r:a.Post.reply();break;case c.v:a.Activity.view();break}},true)};
function addJQuery(c){var a=document.createElement("script"),b=function(){var d=document.createElement("script");d.textContent="("+c.toString()+")();";document.body.appendChild(d)};if(typeof $!==undefined)b();else{a.setAttribute("src","http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js");a.addEventListener("load",function(){b()},false);document.body.appendChild(a)}}addJQuery(ForrstNavigator);